<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <link rel="stylesheet" href="/css/admin.css"/>
  <title>Admin Panel</title>
</head>
<body>
  <div class="container">
    <h1>🍽️ Food Management</h1>
    <form action="/foods" method="POST" class="food-form">
      <input type="text" name="name" placeholder="Food Name" required>
      <input type="text" name="description" placeholder="Description" required>
      <input type="text" name="imageUrl" placeholder="Image URL" required>
      <input type="number" name="price" placeholder="Price ($)" required>
      <input type="text" name="category" placeholder="Category" required>
      <button type="submit" class="create">➕ Create</button>
    </form>
  </div>

  <div class="food-list">
    <% foods.forEach((food) => { %>
      <div class="food-item">
        <img src="<%= food.imageUrl %>" alt="Food">
        <h2><%= food.name %></h2>
        <p><%= food.description %></p>
        <p class="price">$<%= food.price %></p>
        <p class="category">📂 <%= food.category %></p>
        <div class="actions">
          <button onclick="openEditModal('<%= food._id %>', '<%= food.name %>', '<%= food.description %>', '<%= food.imageUrl %>', '<%= food.price %>', '<%= food.category %>')">✏️ Edit</button>
          <form action="/foods/delete/<%= food._id %>" method="POST">
            <button class="delete">🗑️ Delete</button>
          </form>
        </div>
      </div>
    <% }) %>
  </div>

  <div class="modal" id="editModal">
    <div class="modal-content">
      <h3>✏️ Edit Food</h3>
      <form method="POST" id="editForm">
        <input type="hidden" name="id" id="editId">
        <input type="text" name="name" id="editName" required>
        <input type="text" name="description" id="editDescription" required>
        <input type="text" name="imageUrl" id="editImage" required>
        <input type="number" name="price" id="editPrice" required>
        <input type="text" name="category" id="editCategory" required>
        <div class="modal-buttons">
          <button type="submit">💾 Save</button>
          <button type="button" onclick="closeModal()">❌ Cancel</button>
        </div>
      </form>
    </div>
  </div>

  <script src="/js/admin.js"></script>
</body>
</html>
